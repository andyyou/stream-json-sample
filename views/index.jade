extends layout

block content
  style.
    .grid {
      width: 100%;
      height: 800px;
      position: relative;
      background-color: white;
    }
    .cell {
      width: 10px;
      height: 10px;
      position: absolute;
    }
  h1= title
  p Welcome to #{title}
  div.grid

  script(src="https://unpkg.com/jquery@3.2.1")
  script(src="https://unpkg.com/oboe@2.1.3")
  script.
    $(function () {
      oboe('/data')
        .node('{x y color}', function (p) {
          var cell = document.createElement('div')
          var cell = document.createElement('div')
          cell.classList.add('cell')
          cell.style.left = p.x * 10 + 'px'
          cell.style.top = p.y * 10 + 'px'
          cell.style.backgroundColor = p.color
          var grid = document.querySelector('.grid')
          grid.appendChild(cell)
        })
    })


